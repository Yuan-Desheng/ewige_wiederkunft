<%*
// 定义题库目录路径
const templateFolder = "Assistants/Templater/题库";
const files = app.vault.getFiles().filter(file => 
    file.path.includes(templateFolder) && 
    file.name.endsWith(".md")
);
const templateOptions = files.map(file => file.path);
const templateNames = files.map(file => file.name.replace(/\.md$/, ""));
const selectedTemplate = await tp.system.suggester(
    templateNames,
    templateOptions
);
if (!selectedTemplate) {
    return "";
}
const templateFileName = selectedTemplate.split("/").pop();
const category = templateFileName.replace(/\.md$/, "");
const targetFolder = `Documents/QuestionBank/${category}`;
try {
    if (!await app.vault.adapter.exists(targetFolder)) {
        await app.vault.createFolder(targetFolder);
    }
} catch (e) {
    console.error("创建文件夹失败:", e);
}
await tp.file.move(`${targetFolder}/${tp.file.title}`);
const templateContent = await tp.file.include(`[[${selectedTemplate}]]`);
tR += templateContent;
%>
