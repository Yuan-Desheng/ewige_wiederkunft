![[chart-å¾…å¤„ç†ç¬”è®°.base]]
### é€¾æœŸæœªå¤„ç†ç¬”è®°ï¼ˆOverdueï¼‰    
```dataviewjs
const folderPath = "Documents";
const today = dv.date("today").startOf("day");
function parseFrontmatterDate(content) {
    const match = content.match(/é˜è¿°æ—¥æœŸ:\s*(\d{4}-\d{2}-\d{2})/);
    return match ? dv.date(match[1])?.startOf("day") : null;
}
async function processFile(file) {
    try {
        const content = await app.vault.cachedRead(file);
        const expoundDate = parseFrontmatterDate(content);
        if (!expoundDate || expoundDate >= today) return null;
        const progressMatches = [...content.matchAll(
            /<progress\b[^>]*value\s*=\s*["'](\d+)["'][^>]*max\s*=\s*["'](\d+)["'][^>]*>/gi
        )];
        // è¿‡æ»¤æ‰valueç­‰äºmaxçš„è¿›åº¦æ¡ï¼ˆå³å®Œæˆçš„ä»»åŠ¡ï¼‰
        const filteredBars = progressMatches.filter(m => {
            const value = parseInt(m[1]);
            const max = parseInt(m[2]);
            return value < max;
        }).map(m => m[0]);
        return filteredBars.length > 0 ? {
            name: file.basename,
            path: file.path,
            date: expoundDate,
            bars: filteredBars
        } : null;
    } catch (e) {
        console.error("å¤„ç†æ–‡ä»¶é”™è¯¯:", file.path, e);
        return null;
    }
}
const files = app.vault.getMarkdownFiles()
    .filter(f => f.path.startsWith(folderPath + "/"));
    
const results = (await Promise.all(files.map(processFile)))
    .filter(Boolean)
    .sort((a, b) => a.date - b.date); 
dv.container.className += " custom-dataview-table";
const style = document.createElement('style');
style.textContent = `
.custom-dataview-table .table-view-table th:nth-child(2),
.custom-dataview-table .table-view-table td:nth-child(2),
.custom-dataview-table .table-view-table th:nth-child(3),
.custom-dataview-table .table-view-table td:nth-child(3) {
    width: 18%;
}
.custom-dataview-table .table-view-table th:nth-child(1),
.custom-dataview-table .table-view-table td:nth-child(1) {
    width: 64%;
}
`;
document.head.appendChild(style);
dv.table(
    ["ç¬”è®°åç§°", "è®¡åˆ’æ—¥æœŸ", "ç¬”è®°è¿›åº¦"],
    results.flatMap(item => 
        item.bars.map(bar => [
            dv.fileLink(item.path, false, item.name),
            item.date.toISODate(),
            bar
        ])
    )
);
```
### ä»Šæ—¥éœ€å¤„ç†ç¬”è®°ï¼ˆTodayï¼‰    
```dataviewjs
const folderPath = "Documents";
const today = dv.date("today").startOf("day");
function parseFrontmatterDate(content) {
    const match = content.match(/é˜è¿°æ—¥æœŸ:\s*(\d{4}-\d{2}-\d{2})/);
    return match ? dv.date(match[1])?.startOf("day") : null;
}
async function processFile(file) {
    try {
        const content = await app.vault.cachedRead(file);
        const expoundDate = parseFrontmatterDate(content);
        if (!expoundDate?.equals(today)) return null;
        const progressMatches = [...content.matchAll(
            /<progress\b[^>]*value\s*=\s*["'](\d+)["'][^>]*max\s*=\s*["'](\d+)["'][^>]*>/gi
        )];
        // è¿‡æ»¤æ‰valueç­‰äºmaxçš„è¿›åº¦æ¡ï¼ˆå³å®Œæˆçš„ä»»åŠ¡ï¼‰
        const filteredBars = progressMatches.filter(m => {
            const value = parseInt(m[1]);
            const max = parseInt(m[2]);
            return value < max;
        }).map(m => m[0]);
        return filteredBars.length > 0 ? {
            name: file.basename,
            path: file.path,
            date: expoundDate,
            bars: filteredBars
        } : null;
    } catch (e) {
        console.error("å¤„ç†æ–‡ä»¶é”™è¯¯:", file.path, e);
        return null;
    }
}
const files = app.vault.getMarkdownFiles()
    .filter(f => f.path.startsWith(folderPath + "/"));
const results = (await Promise.all(files.map(processFile)))
    .filter(Boolean)
    .sort((a, b) => a.date - b.date);
    dv.container.className += " custom-dataview-table";
const style = document.createElement('style');
style.textContent = `
.custom-dataview-table .table-view-table th:nth-child(2),
.custom-dataview-table .table-view-table td:nth-child(2),
.custom-dataview-table .table-view-table th:nth-child(3),
.custom-dataview-table .table-view-table td:nth-child(3) {
    width: 18%;
}
.custom-dataview-table .table-view-table th:nth-child(1),
.custom-dataview-table .table-view-table td:nth-child(1) {
    width: 64%;
}
`;
document.head.appendChild(style);
dv.table(
    ["ç¬”è®°åç§°", "è®¡åˆ’æ—¥æœŸ", "ç¬”è®°è¿›åº¦"],
    results.flatMap(item => 
        item.bars.map(bar => [
            dv.fileLink(item.path, false, item.name), 
            item.date.toISODate(),
            bar
        ])
    )
);
```
### æœ¬å‘¨éœ€å¤„ç†ç¬”è®°ï¼ˆOneWeekï¼‰    
```dataviewjs
const folderPath = "Documents";
const today = dv.date("today").startOf("day");
const startDate = today.plus({ days: 1 });
const endDate = today.plus({ days: 7 });
function parseFrontmatterDate(content) {
    const match = content.match(/é˜è¿°æ—¥æœŸ:\s*(\d{4}-\d{2}-\d{2})/);
    return match ? dv.date(match[1])?.startOf("day") : null;
}
async function processFile(file) {
    try {
        const content = await app.vault.cachedRead(file);
        const expoundDate = parseFrontmatterDate(content);
        if (!expoundDate || expoundDate < startDate || expoundDate > endDate) return null;
        const progressMatches = [...content.matchAll(
            /<progress\b[^>]*value\s*=\s*["'](\d+)["'][^>]*max\s*=\s*["'](\d+)["'][^>]*>/gi
        )];
        
        // è¿‡æ»¤æ‰valueç­‰äºmaxçš„è¿›åº¦æ¡ï¼ˆå³å®Œæˆçš„ä»»åŠ¡ï¼‰
        const filteredBars = progressMatches.filter(m => {
            const value = parseInt(m[1]);
            const max = parseInt(m[2]);
            return value < max;
        }).map(m => m[0]);
        return filteredBars.length > 0 ? {
            name: file.basename,
            path: file.path,
            date: expoundDate,
            bars: filteredBars
        } : null;
    } catch (e) {
        console.error("å¤„ç†æ–‡ä»¶é”™è¯¯:", file.path, e);
        return null;
    }
}
const files = app.vault.getMarkdownFiles()
    .filter(f => f.path.startsWith(folderPath + "/"));
const results = (await Promise.all(files.map(processFile)))
    .filter(Boolean)
    .sort((a, b) => a.date - b.date);
    dv.container.className += " custom-dataview-table";
const style = document.createElement('style');
style.textContent = `
.custom-dataview-table .table-view-table th:nth-child(2),
.custom-dataview-table .table-view-table td:nth-child(2),
.custom-dataview-table .table-view-table th:nth-child(3),
.custom-dataview-table .table-view-table td:nth-child(3) {
    width: 18%;
}
.custom-dataview-table .table-view-table th:nth-child(1),
.custom-dataview-table .table-view-table td:nth-child(1) {
    width: 64%;
}
`;
document.head.appendChild(style);
dv.table(
    ["ç¬”è®°åç§°", "è®¡åˆ’æ—¥æœŸ", "ç¬”è®°è¿›åº¦"],
    results.flatMap(item => 
        item.bars.map(bar => [
            dv.fileLink(item.path, false, item.name), 
            item.date.toISODate(),
            bar
        ])
    )
);
```
### è¿œæœŸéœ€å¤„ç†ç¬”è®°ï¼ˆFutureï¼‰  
```dataviewjs
const folderPath = "Documents";
const today = dv.date("today").startOf("day");
const startDate = today.plus({ days: 8 }); // ä»ç¬¬8å¤©å¼€å§‹ï¼Œå³è¶…è¿‡1å‘¨

function parseFrontmatterDate(content) {
    const match = content.match(/é˜è¿°æ—¥æœŸ:\s*(\d{4}-\d{2}-\d{2})/);
    return match ? dv.date(match[1])?.startOf("day") : null;
}

async function processFile(file) {
    try {
        const content = await app.vault.cachedRead(file);
        const expoundDate = parseFrontmatterDate(content);
        // åªæ˜¾ç¤ºè¶…è¿‡1å‘¨çš„æœªæ¥æ—¥æœŸ
        if (!expoundDate || expoundDate < startDate) return null;
        
        const progressMatches = [...content.matchAll(
            /<progress\b[^>]*value\s*=\s*["'](\d+)["'][^>]*max\s*=\s*["'](\d+)["'][^>]*>/gi
        )];
        
        // è¿‡æ»¤æ‰valueç­‰äºmaxçš„è¿›åº¦æ¡ï¼ˆå³å®Œæˆçš„ä»»åŠ¡ï¼‰
        const filteredBars = progressMatches.filter(m => {
            const value = parseInt(m[1]);
            const max = parseInt(m[2]);
            return value < max;
        }).map(m => m[0]);
        
        return filteredBars.length > 0 ? {
            name: file.basename,
            path: file.path,
            date: expoundDate,
            bars: filteredBars
        } : null;
    } catch (e) {
        console.error("å¤„ç†æ–‡ä»¶é”™è¯¯:", file.path, e);
        return null;
    }
}

const files = app.vault.getMarkdownFiles()
    .filter(f => f.path.startsWith(folderPath + "/"));

const results = (await Promise.all(files.map(processFile)))
    .filter(Boolean)
    .sort((a, b) => a.date - b.date);

// åº”ç”¨ç›¸åŒçš„æ ·å¼
dv.container.className += " custom-dataview-table";
const style = document.createElement('style');
style.textContent = `
.custom-dataview-table .table-view-table th:nth-child(2),
.custom-dataview-table .table-view-table td:nth-child(2),
.custom-dataview-table .table-view-table th:nth-child(3),
.custom-dataview-table .table-view-table td:nth-child(3) {
    width: 18%;
}
.custom-dataview-table .table-view-table th:nth-child(1),
.custom-dataview-table .table-view-table td:nth-child(1) {
    width: 64%;
}
`;
document.head.appendChild(style);

if (results.length > 0) {
    dv.table(
        ["ç¬”è®°åç§°", "è®¡åˆ’æ—¥æœŸ", "ç¬”è®°è¿›åº¦"],
        results.flatMap(item => 
            item.bars.map(bar => [
                dv.fileLink(item.path, false, item.name), 
                item.date.toISODate(),
                bar
            ])
        )
    );
} else {
    dv.paragraph("ğŸ‰ æ²¡æœ‰æ‰¾åˆ°æœªæ¥è¶…è¿‡1å‘¨éœ€è¦å¤„ç†çš„ç¬”è®°ï¼");
}
```

%%è¯´æ˜
æœ¬æ¨¡å—æŸ¥è¯¢çš„ç¬”è®°ä¸­å¿…é¡»åŒ…å«**é˜è¿°æ—¥æœŸ**ã€**è¿›åº¦æ¡**ï¼Œç¼ºå°‘ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œç¬”è®°å°†ä¸åœ¨æ­¤é¡µé¢ä¸­æ˜¾ç¤º
å¯ä»¥é€šè¿‡alt(opt)+xæŸ¥è¯¢ï¼Œå¹¶ç‚¹å‡»æç¤ºæ¡†è¿›å…¥åˆ°æœ¬é¡µé¢
%%

